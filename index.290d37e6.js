var e={get:e=>{try{return JSON.parse(localStorage.getItem(e))}catch(e){return null}},save:(e,n)=>{try{localStorage.setItem(e,JSON.stringify(n))}catch(e){return null}},remove:e=>{try{return localStorage.removeItem(e)}catch(e){return null}}};const n={form:document.querySelector(".add-member")};var t;let a=null!==(t=e.get("member-info"))&&void 0!==t?t:{};const r=Object.keys(a);if(r.length)for(const e of r){var o;const t=n.form.elements[e],r=a[e];if("games"!==(null===(o=t[0])||void 0===o?void 0:o.name))"checkbox"!==t.type?t.value=r:t.checked=r;else for(const e of t)r.includes(e.value)&&(e.checked=!0)}n.form.addEventListener("input",(n=>{const{name:t,value:r,checked:o,type:s}=n.target;var l;a={...a,[t]:"consent"===t?o:"games"===t?o?[...new Set([...null!==(l=a[t])&&void 0!==l?l:[],r])]:a[t].filter((e=>e!==r)):r},e.save("member-info",a)}));const s={list:document.querySelector(".list-members")},l=({age:e,consent:n,data:t,email:a,games:r,name:o,nickname:s,platform:l})=>`<li class="item" style="background-color: #${Math.floor(16777215*Math.random()).toString(16)}">\n<p>Name: <span> ${o} </span></p>\n<p>Nickname: <span>${s} </span></p>\n<p>Age: <span>${e} </span></p>\n<p>email: <span> ${a}</span></p>\n<p>Consent to mailing: <span> ${n}</span></p>\n<p>Lovely game: <span>${r.join(", ")} </span></p>\n<p>Main game platform: <span>${l} </span></p>\n<p>Registration time: <span>${t} </span></p>\n</li>`,m={form:document.querySelector(".add-member")};var i;let c=null!==(i=e.get("all-members-info"))&&void 0!==i?i:[];var p;c.length>=1&&(p=c,s.list.innerHTML=(e=>e.map(l).join(""))(p));m.form.addEventListener("submit",(n=>{n.preventDefault();const t=new FormData(n.currentTarget),a={};for(const[e,n]of t.entries()){if(!n)return void alert("all form fields must be filled");"games"!==e?a[e]=n:a[e]=[...a[e]||[],n]}var r;a.consent=!!t.get("consent"),c=[...c,a],e.save("all-members-info",c),r=a,s.list.insertAdjacentHTML("beforeend",l(r)),e.remove("member-info"),n.currentTarget.reset()}));
//# sourceMappingURL=index.290d37e6.js.map
